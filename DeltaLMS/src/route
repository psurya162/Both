import React, { lazy, Suspense } from 'react';
import { Routes, Route, Navigate } from 'react-router-dom';
import SuspenseLoader from './SuspenseLoader';



// Lazy-loaded components
const StudentLayout = lazy(() => import('./Components/StudentDashboard/StudentLayout'));
const StudentSubject = lazy(() => import('./Components/StudentDashboard/StudentSubject'));
const Studentprofile = lazy(() => import('./Components/StudentDashboard/Studentprofile'));
const Signup = lazy(() => import('./Components/SignUpPage/Singup'));
const SelectBoard = lazy(() => import('./Components/MultistepForm/SelectBoard'));
const Login = lazy(() => import('./Components/SignInPage/Login'));
const SelectLanguage = lazy(() => import('./Components/MultistepForm/SelectLanguage'));
const SelectClass = lazy(() => import('./Components/MultistepForm/SelectClass'));
const SelectStream = lazy(() => import('./Components/MultistepForm/SelectStream'));
const StudentVideoSection = lazy(() => import('./Components/StudentDashboard/StudentVideoSection'));
const HeroSection = lazy(() => import('./Components/Homepage/HeroSection/Herosection'));
const Layout = lazy(() => import('./Components/Homepage/Layout/Layout'));
const AboutUs = lazy(() => import('./Components/Homepage/AboutUs/AboutUs'));
const ContactUs = lazy(() => import('./Components/Homepage/ContactUs/ContactUs'));
const DeltaView = lazy(() => import('./Components/Homepage/DeltaView/DeltaView'));
const DeltaPartner = lazy(() => import('./Components/Homepage/DeltaPartner/DeltaPartner'));
const ProtectedRoute = lazy(() => import('./ProtectedRoute'));
const Loader = lazy(() => import("./Components/StudentDashboard/Loader"))
const UpgradePage=lazy(()=> import ("./Components/UpgradePage/Upgrade"))
const ResetPassword = lazy(() => import('./Components/SignInPage/ResetPassword'))
const ReportPage =lazy(()=> import ("./Components/StudentDashboard/StudentReport"))


const App = () => {
  return (
    <Suspense fallback={<SuspenseLoader />}>
      <Routes>
        <Route element={<Layout />}>
          <Route path="/" element={<HeroSection />} />
          <Route path="/about-us" element={<AboutUs />} />
          <Route path="/contact-us" element={<ContactUs />} />
          <Route path="/Delta-view-app" element={<DeltaView />} />
          <Route path="/Delta-Partner" element={<DeltaPartner />} />
        </Route>
        <Route path="/login" element={<Login />} />
        <Route path="/signup" element={<Signup />} />
        <Route path="/selectboard" element={<SelectBoard />} />
        <Route path="/select-language" element={<SelectLanguage />} />
        <Route path="/select-class" element={<SelectClass />} />
        <Route path="/select-stream" element={<SelectStream />} />
        <Route
          path="/studentDashboard"
          element={
            <Suspense fallback={<Loader />}>
              <ProtectedRoute>
                <StudentLayout />
              </ProtectedRoute>
            </Suspense>
          }
        >
          <Route index element={<StudentSubject />} />
          <Route path="profile" element={<Studentprofile />} />
         

        </Route>
        <Route path='/report' element={<ReportPage/>}/>
        <Route path="/studentDashboard/subject/:subjectId" element={<StudentVideoSection />} />
        <Route path="/" element={<Navigate to="/login" />} />
        <Route path="/reset/:token" element={<ResetPassword />} />
        <Route path="*" element={<Navigate to="/login" />} />
        <Route path='/upgrade' element={<UpgradePage/>}/>
        
        
          
      </Routes>
    </Suspense>
  );
};

export default App;
